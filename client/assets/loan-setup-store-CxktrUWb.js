import{a as l,p as n}from"./middleware-DbOJw5Dy.js";import{v as o}from"./v4-EwEgHOG0.js";const c=l()(n(t=>({setups:{},addSetup:e=>{const a=(e.channels??[]).map(r=>({name:r.name.trim(),code:r.code.trim()})).filter(r=>r.name||r.code),s={id:o(),createdAt:Date.now(),product:{...e.product,tenureMonths:[...e.product.tenureMonths]},channels:a,scorecardId:e.scorecardId??null,scorecardName:e.scorecardName??null,workflowId:e.workflowId??null,workflowName:e.workflowName??null,riskGrade:e.riskResult?.riskGrade??null,totalScore:e.riskResult?.totalScore??null,disbursementType:e.disbursementType??"FULL",partialInterestRate:e.disbursementType==="PARTIAL"?e.partialInterestRate??null:null,disbursementDestinations:(e.disbursementDestinations??[]).filter(r=>r?.type==="BANK"||r?.type==="WALLET"),repaymentPlanId:e.repaymentPlan?.planId??null,repaymentPlanName:e.repaymentPlan?.name??null,repaymentPlan:e.repaymentPlan?{...e.repaymentPlan}:null};return t(r=>({setups:{...r.setups,[s.id]:s}})),s},resetStore:()=>t({setups:{}})}),{name:"loan-workflow-setups",version:1,partialize:t=>({setups:t.setups})}));function u(t){return Object.values(t).sort((e,a)=>a.createdAt-e.createdAt)}export{u as g,c as u};
