import{r as c,j as e}from"./main-Dh94BVv7.js";function D(){const[o,f]=c.useState(1e5),[m,N]=c.useState(10),[d,v]=c.useState(12),[b,w]=c.useState("months"),{emi:M,totalPayment:I,totalInterest:P,schedule:g}=c.useMemo(()=>{const t=o??0,x=(m??0)/12/100,n=b==="years"?(d??0)*12:d??0;if(t<=0||n<=0)return{emi:0,totalPayment:0,totalInterest:0,schedule:[]};const h=[];let l=t;const u=new Date;if((m??0)<=0){const s=t/n;for(let r=1;r<=n;r++){l-=s;const i=new Date(u);i.setMonth(u.getMonth()+r),h.push({period:r,date:i,payment:s,principal:s,interest:0,balance:Math.max(0,l)})}return{emi:s,totalPayment:t,totalInterest:0,schedule:h}}const p=t*x*(1+x)**n/((1+x)**n-1),y=p*n,S=y-t;for(let s=1;s<=n;s++){const r=l*x,i=p-r;l-=i,s===n&&l<1&&(l=0);const j=new Date(u);j.setMonth(u.getMonth()+s),h.push({period:s,date:j,payment:p,principal:i,interest:r,balance:Math.max(0,l)})}return{emi:p,totalPayment:y,totalInterest:S,schedule:h}},[o,m,d,b]),a=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"MMK",minimumFractionDigits:2,maximumFractionDigits:2}).format(t);return e.jsxs("div",{className:"p-6 font-sans max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"EMI Calculator"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4 border p-6 rounded-lg shadow-sm bg-white h-fit",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Loan Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Loan Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"MMK"}),e.jsx("input",{type:"number",min:"0",value:o??"",onChange:t=>f(t.target.value?Number(t.target.value):void 0),className:"w-full border p-2 pl-14 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Interest Rate (%)"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:m??"",onChange:t=>N(t.target.value?Number(t.target.value):void 0),className:"w-full border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Tenure"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",min:"1",value:d??"",onChange:t=>v(t.target.value?Number(t.target.value):void 0),className:"flex-1 border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("select",{value:b,onChange:t=>w(t.target.value),className:"border p-2 rounded bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"months",children:"Months"}),e.jsx("option",{value:"years",children:"Years"})]})]})]})]}),e.jsxs("div",{className:"space-y-4 border p-6 rounded-lg shadow-sm bg-blue-50 h-fit",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4 text-blue-900",children:"Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-blue-100",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly EMI"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:a(M)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Principal Amount"}),e.jsx("span",{className:"font-medium",children:a(o??0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Interest"}),e.jsx("span",{className:"font-medium text-orange-600",children:a(P)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-blue-200",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:"Total Payment"}),e.jsx("span",{className:"font-bold text-gray-900",children:a(I)})]})]})]})]}),g.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Schedule"}),e.jsx("div",{className:"border rounded-lg overflow-x-auto shadow-sm bg-white",children:e.jsxs("table",{className:"min-w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 font-semibold border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"#"}),e.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Payment Date"}),e.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"Payment"}),e.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"Principal"}),e.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"Interest"}),e.jsx("th",{className:"px-4 py-3 text-right whitespace-nowrap",children:"Outstanding"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:g.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-gray-500",children:t.period}),e.jsx("td",{className:"px-4 py-2",children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t.date)}),e.jsx("td",{className:"px-4 py-2 text-right font-medium",children:a(t.payment)}),e.jsx("td",{className:"px-4 py-2 text-right text-gray-600",children:a(t.principal)}),e.jsx("td",{className:"px-4 py-2 text-right text-orange-600",children:a(t.interest)}),e.jsx("td",{className:"px-4 py-2 text-right text-gray-500",children:a(t.balance)})]},t.period))})]})})]})]})}export{D as component};
