import{a,p as d}from"./middleware-CR244-OE.js";import{v as c}from"./v4-EwEgHOG0.js";const u=a()(d((r,w)=>({workflows:{},selectedWorkflowId:null,addWorkflow:(o,e,n)=>{const l=o.trim();if(!l)throw new Error("Workflow name is required");const t={workflowId:c(),name:l,createdAt:Date.now(),workflow:e,sourceInstanceId:n?.sourceInstanceId};return r(s=>({workflows:{...s.workflows,[t.workflowId]:t},selectedWorkflowId:t.workflowId})),t},updateWorkflow:(o,e,n)=>{const l=e.trim();if(!l)throw new Error("Workflow name is required");r(t=>{const s=t.workflows[o];if(!s)return t;const f={...s,name:l,workflow:n};return{workflows:{...t.workflows,[o]:f}}})},selectWorkflow:o=>r(e=>o?e.workflows[o]?{selectedWorkflowId:o}:e:{selectedWorkflowId:null}),resetStore:()=>r({workflows:{},selectedWorkflowId:null})}),{name:"loan-workflows",version:1,partialize:r=>({workflows:r.workflows,selectedWorkflowId:r.selectedWorkflowId})}));function m(r){return Object.values(r).sort((w,o)=>{const e=w.name.localeCompare(o.name);return e!==0?e:w.createdAt-o.createdAt})}export{m as g,u};
