import{r as c,j as e,L as t}from"./main-CxpZHTDM.js";import{u as o,g as r}from"./loan-application-store-CMhK6tI6.js";import{u as d}from"./loan-setup-store-5QIDiztH.js";import"./middleware-CR244-OE.js";import"./v4-EwEgHOG0.js";function u(){const l=o(s=>s.applications);d(s=>s.setups);const n=c.useMemo(()=>r(l),[l]);return e.jsxs("div",{className:"p-6 font-sans max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Loan Applications"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Applications saved against configured loan products."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{to:"/loan/applications/create",className:"text-sm border px-3 rounded hover:bg-gray-50",children:"New application"}),e.jsx(t,{to:"/loan/setup",className:"text-sm border px-3 rounded hover:bg-gray-50",children:"Configure loan"})]})]}),n.length===0?e.jsx("div",{className:"border rounded p-4 bg-gray-50 text-gray-700 text-sm",children:"No applications yet. Create a loan setup, then start an application."}):e.jsx("div",{className:"overflow-x-auto border rounded",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-left",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Application #"}),e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Beneficiary"}),e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Product"}),e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Amount"}),e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Credit score"}),e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Status"}),e.jsx("th",{className:"px-3 py-2 font-semibold",children:"Created"}),e.jsx("th",{className:"px-3 py-2 font-semibold"})]})}),e.jsx("tbody",{children:n.map(s=>{const a=s.creditScore??null,i=s.creditMax??null;return e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 font-mono text-xs text-gray-700",children:s.applicationNo}),e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("div",{className:"font-medium",children:s.beneficiaryName}),e.jsx("div",{className:"text-xs text-gray-600",children:s.nationalId})]}),e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("div",{className:"font-medium",children:s.productName??""}),e.jsx("div",{className:"text-xs text-gray-600",children:s.productCode})]}),e.jsx("td",{className:"px-3 py-2 font-mono",children:s.requestedAmount.toLocaleString()}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:a===null?"â€”":i?`${a} / ${i}`:`${a}`}),e.jsx("td",{className:"px-3 py-2",children:s.status}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:new Date(s.createdAt).toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:e.jsx(t,{to:"/loan/applications/$applicationId",params:{applicationId:s.id},className:"text-sm text-blue-600 hover:underline",children:"View"})})]},s.id)})})]})})]})}export{u as component};
